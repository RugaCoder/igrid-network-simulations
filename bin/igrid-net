#!/usr/bin/python2

from os import sys, path 
if __name__ == '__main__' and __package__ is None: 
    sys.path.append(path.dirname(path.dirname(path.abspath(__file__))))

import signal
import inquirer
from inquirer import errors
from igrid.topology import IGRID


def number_validation(answers, current):
    if not current.isdigit():
        raise errors.ValidationError(
            '', reason='input value is not a number, please enter a valid number')

    return True


if __name__ == "__main__":
    try:
        questions = [
            inquirer.Text('sensors', message='Number of sensor node(s)?',
                          validate=number_validation),
            inquirer.Text(
                'smart_meters', message='Number of smart meters node(s)?', validate=number_validation),
            inquirer.Text(
                'actuators', message='Number of actuator node(s)?', validate=number_validation)
        ]
        answers = inquirer.prompt(questions)

        print(answers.get('sensors'), answers.get('smart_meters'), answers.get('actuators'))
        

    except KeyboardInterrupt:
        sys.exit('\nERROR: Interrupted by user')